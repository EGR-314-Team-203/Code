#include "mcc_generated_files/mcc.h"
#include "mcc_generated_files/mcc.h"
//#include "mcc_generated_files/examples/i2c2_master_example.h"
//#include "mcc_generated_files/i2c2_master.h"
void main(void)
{
SYSTEM_Initialize();
INTERRUPT_GlobalInterruptEnable();
INTERRUPT_PeripheralInterruptEnable();
I2C2_Initialize();
uint8_t temp[2];
uint16_t templong;
//float T = 11.375;
//float degree = 0;
while (1)
{
temp[0] = I2C2_Read1ByteRegister(0x36, 0x0E);
temp[1] = I2C2_Read1ByteRegister(0x36, 0x0F);
templong = temp[0] << 8 | temp[1];
printf("Angle = %u \n \r", templong);
__delay_ms(100);

temp[0] = I2C2_Read1ByteRegister(0x36, 0x1B);
temp[1] = I2C2_Read1ByteRegister(0x36, 0x1C);
templong = temp[0] << 8 | temp[1];
printf("Mag = %u \n \r", templong);
__delay_ms(100);
}
}
